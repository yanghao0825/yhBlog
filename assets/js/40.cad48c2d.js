(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{458:function(t,n,e){"use strict";e.r(n);var r=e(2),s=Object(r.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"仿微信消息时间格式的js代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#仿微信消息时间格式的js代码"}},[t._v("#")]),t._v(" 仿微信消息时间格式的js代码")]),t._v(" "),n("p",[t._v("30分钟以内会显示 "),n("strong",[t._v("刚刚")])]),t._v(" "),n("p",[t._v("60分钟以内会显示 "),n("strong",[t._v("多少分钟前")])]),t._v(" "),n("p",[t._v("24小时以内会显示 "),n("strong",[t._v("多少小时前")])]),t._v(" "),n("p",[t._v("2天以内会显示 "),n("strong",[t._v("一天前")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("function dataFormat(time, option) {\n  time = +time * 1000\n  const d = new Date(time)\n  const now = new Date().getTime()\n  ​\n  const diff = (now - d) / 1000\n  console.log(diff, 'diff')\n  if (diff < 30) {\n     return '刚刚'\n  } else if (diff < 3600) {\n     // less 1 hour\n     return Math.ceil(diff / 60) + '分钟前'\n  } else if (diff < 3600 * 24) {\n     return Math.ceil(diff / 3600) + '小时前'\n  } else if (diff < 3600 * 24 * 2) {\n     return '1天前'\n  }\n  if (option) {\n     // return parseTime(time, option);\n  } else {\n    let timeStr = \n    d.getFullYear() + '年' + \n    (d.getMonth() + 1) + '月' + \n    addZero(d.getDate()) + '日 ' + \n    addZero(d.getHours()) + ':' + \n    addZero(d.getMinutes()) + ':' + \n    addZero(d.getSeconds()) \n    return timeStr\n  }\n}\n")])])])])}),[],!1,null,null,null);n.default=s.exports}}]);